print("Exported to csv format")
'''
#---------------------------------------------------------------------
#---------------------------ZeeNews-----------------------------------
for (i in 1:length(links2)){
a<-html(links2[i])
heading[i]<-a %>% html_node(".full-story-head h1") %>% html_text()    #Read heading
print(heading[i])
content_list<-a %>% html_nodes(".even p") %>% html_text()      #Takes each paragraph as an item in a list
content[i]<-paste(content_list,sep="",collapse = "")
print(content[i])
date[i]<-a %>% html_node(".writer") %>% html_text()
print(date[i])
}
heading={}
content={}
date={}
#---------------------------NorthEastToday-----------------------------------
'''
for (i in 1:length(links1)){
a<-html(links1[i])
heading[i]<-a %>% html_node(".content-article-title h1") %>% html_text()    #Read heading
print(heading[i])
content_list<-a %>% html_nodes(".shortcode-content p") %>% html_text()      #Takes each paragraph as an item in a list
content[i]<-paste(content_list,sep=" ",collapse = " ")
print(content[i])
date[i]<-a %>% html_node(".calendar-date") %>% html_text()
}
df<-data.frame(heading,date,content)
names(df)<-c("Heading","Date","Content")
write.csv(df,"NortheastToday.csv")
print("Exported to csv format")
'''
#---------------------------------------------------------------------
#---------------------------ZeeNews-----------------------------------
for (i in 1:length(links2)){
a<-html(links2[i])
heading[i]<-a %>% html_node(".full-story-head h1") %>% html_text()    #Read heading
print(heading[i])
content_list<-a %>% html_nodes(".even p") %>% html_text()      #Takes each paragraph as an item in a list
content[i]<-paste(content_list,sep=" ",collapse = "")
print(content[i])
date[i]<-a %>% html_node(".writer") %>% html_text()
print(date[i])
}
a<-date[1]
a
install.packages("stringr")
a
word(a)
library("stringr")
word(a)
word(a,-1)
paste(word(a,-1),word(a,-2),word(a,-3))
paste(word(a,-1),word(a,-2),word(a,-3),word(a,-4),word(a,-5))
paste(word(a,-2),word(a,-3),word(a,-4),word(a,-5))
paste(word(a,-3),word(a,-4),word(a,-5))
paste(word(a,-5),word(a,-4),word(a,-5))
paste(word(a,-5),word(a,-4),word(a,-3))
library("stringr")
heading={}
content={}
date={}
#---------------------------NorthEastToday-----------------------------------
'''
for (i in 1:length(links1)){
a<-html(links1[i])
heading[i]<-a %>% html_node(".content-article-title h1") %>% html_text()    #Read heading
print(heading[i])
content_list<-a %>% html_nodes(".shortcode-content p") %>% html_text()      #Takes each paragraph as an item in a list
content[i]<-paste(content_list,sep=" ",collapse = " ")
print(content[i])
date[i]<-a %>% html_node(".calendar-date") %>% html_text()
}
df<-data.frame(heading,date,content)
names(df)<-c("Heading","Date","Content")
write.csv(df,"NortheastToday.csv")
print("Exported to csv format")
'''
#---------------------------------------------------------------------
#---------------------------ZeeNews-----------------------------------
for (i in 1:length(links2)){
a<-html(links2[i])
heading[i]<-a %>% html_node(".full-story-head h1") %>% html_text()    #Read heading
print(heading[i])
content_list<-a %>% html_nodes(".even p") %>% html_text()      #Takes each paragraph as an item in a list
content[i]<-paste(content_list,sep=" ",collapse = "")
print(content[i])
date[i]<-a %>% html_node(".writer") %>% html_text()
date[i]<-paste(word(date[i],-5),word(date[i],-4),word(date[i],-3))
print(date[i])
}
df<-data.frame(heading,date,content)
names(df)<-c("Heading","Date","Content")
write.csv(df,"ZeeNews.csv")
print("Exported to csv format")
#---------------------------------------------------------------------
a<-c('f','ff','fff')
a
b<-c('ffff','g')
b
c(a,b)
a<-c(a,b)
a[4]
1:5
0:5
c(a,1)
c(a,as.character((0)))
library("rvest")
# Sys.setenv(http_proxy="10.3.100.207:8080")
#--------------------NorthEastToday--------------------------------
'''
news_links<-html("http://www.northeasttoday.in/")
links1<-news_links %>%
html_nodes(".content-category a ") %>%
html_attr("href")
half = length(links1)/2
a = (1:half)
a= 2*a
a=a-1
links1<-links1[a]
print(links1)
'''
#---------------------------------------------------------------------
#---------------------------ZeeNews-----------------------------------
links2={}
url_name<-"http://zeenews.india.com/state/north-east?page="
for(page_no in 0:19)
{
news_links<-html(c(url,page_no))
links<-news_links %>%
html_nodes(".lead-health-ab a") %>%
html_attr("href")
for(i in 1:length(links))
{
links[i]=paste("http://zeenews.india.com",links2[i],sep="")
}
links2<-c(links2,links)
}
print(links2)
#---------------------------------------------------------------------
library("rvest")
# Sys.setenv(http_proxy="10.3.100.207:8080")
#--------------------NorthEastToday--------------------------------
'''
news_links<-html("http://www.northeasttoday.in/")
links1<-news_links %>%
html_nodes(".content-category a ") %>%
html_attr("href")
half = length(links1)/2
a = (1:half)
a= 2*a
a=a-1
links1<-links1[a]
print(links1)
'''
#---------------------------------------------------------------------
#---------------------------ZeeNews-----------------------------------
links2={}
url_name<-"http://zeenews.india.com/state/north-east?page="
for(page_no in 0:19)
{
news_links<-html(c(url_name,page_no))
links<-news_links %>%
html_nodes(".lead-health-ab a") %>%
html_attr("href")
for(i in 1:length(links))
{
links[i]=paste("http://zeenews.india.com",links2[i],sep="")
}
links2<-c(links2,links)
}
print(links2)
#---------------------------------------------------------------------
a
c(a,100)
a<-c(a,100)
a[5]
a[6]
library("rvest")
# Sys.setenv(http_proxy="10.3.100.207:8080")
#--------------------NorthEastToday--------------------------------
'''
news_links<-html("http://www.northeasttoday.in/")
links1<-news_links %>%
html_nodes(".content-category a ") %>%
html_attr("href")
half = length(links1)/2
a = (1:half)
a= 2*a
a=a-1
links1<-links1[a]
print(links1)
'''
#---------------------------------------------------------------------
#---------------------------ZeeNews-----------------------------------
links2={}
url_name<-"http://zeenews.india.com/state/north-east?page="
for(page_no in 0:19)
{
news_links<-html(paste(url_name,page_no,sep=""))
links<-news_links %>%
html_nodes(".lead-health-ab a") %>%
html_attr("href")
for(i in 1:length(links))
{
links[i]=paste("http://zeenews.india.com",links2[i],sep="")
}
links2<-c(links2,links)
}
print(links2)
#---------------------------------------------------------------------
url_name<-"http://zeenews.india.com/state/north-east?page="
url_name
paste(url_name,page_no,sep="")
paste(url_name,0,sep="")
news_links<-html(paste(url_name,0,sep=""))
links<-news_links %>%
html_nodes(".lead-health-ab a") %>%
html_attr("href")
links
for(i in 1:length(links))
{
links[i]=paste("http://zeenews.india.com",links2[i],sep="")
}
links
library("rvest")
# Sys.setenv(http_proxy="10.3.100.207:8080")
#--------------------NorthEastToday--------------------------------
'''
news_links<-html("http://www.northeasttoday.in/")
links1<-news_links %>%
html_nodes(".content-category a ") %>%
html_attr("href")
half = length(links1)/2
a = (1:half)
a= 2*a
a=a-1
links1<-links1[a]
print(links1)
'''
#---------------------------------------------------------------------
#---------------------------ZeeNews-----------------------------------
links2={}
url_name<-"http://zeenews.india.com/state/north-east?page="
for(page_no in 0:19)
{
news_links<-html(paste(url_name,page_no,sep=""))
links<-news_links %>%
html_nodes(".lead-health-ab a") %>%
html_attr("href")
for(i in 1:length(links))
{
links[i]=paste("http://zeenews.india.com",links[i],sep="")
}
links2<-c(links2,links)
}
print(links2)
#---------------------------------------------------------------------
'''
;
library("stringr")
heading={}
content={}
date={}
#---------------------------NorthEastToday-----------------------------------
'''
for (i in 1:length(links1)){
a<-html(links1[i])
heading[i]<-a %>% html_node(".content-article-title h1") %>% html_text()    #Read heading
print(heading[i])
content_list<-a %>% html_nodes(".shortcode-content p") %>% html_text()      #Takes each paragraph as an item in a list
content[i]<-paste(content_list,sep=" ",collapse = " ")
print(content[i])
date[i]<-a %>% html_node(".calendar-date") %>% html_text()
}
library("stringr")
heading={}
content={}
date={}
#---------------------------NorthEastToday-----------------------------------
'''
for (i in 1:length(links1)){
a<-html(links1[i])
heading[i]<-a %>% html_node(".content-article-title h1") %>% html_text()    #Read heading
print(heading[i])
content_list<-a %>% html_nodes(".shortcode-content p") %>% html_text()      #Takes each paragraph as an item in a list
content[i]<-paste(content_list,sep=" ",collapse = " ")
print(content[i])
date[i]<-a %>% html_node(".calendar-date") %>% html_text()
}
df<-data.frame(heading,date,content)
names(df)<-c("Heading","Date","Content")
write.csv(df,"NortheastToday.csv")
print("Exported to csv format")
'''
#---------------------------------------------------------------------
#---------------------------ZeeNews-----------------------------------
for (i in 1:length(links2)){
a<-html(links2[i])
heading[i]<-a %>% html_node(".full-story-head h1") %>% html_text()    #Read heading
print(heading[i])
content_list<-a %>% html_nodes(".even p") %>% html_text()      #Takes each paragraph as an item in a list
content[i]<-paste(content_list,sep=" ",collapse = "")
print(content[i])
date[i]<-a %>% html_node(".writer") %>% html_text()
date[i]<-paste(word(date[i],-5),word(date[i],-4),word(date[i],-3))
print(date[i])
}
df<-data.frame(heading,date,content)
names(df)<-c("Heading","Date","Content")
write.csv(df,"ZeeNews.csv")
print("Exported to csv format")
#---------------------------------------------------------------------
df
View(df)
View(df)
View(links2)
links2
news_links<-html("http://zeenews.india.com/news/india/trial-run-for-kolkata-agartala-bus-service-via-dhaka-begins_1605312.html")
library("stringr")
heading={}
content={}
date={}
#---------------------------NorthEastToday-----------------------------------
'''
for (i in 1:length(links1)){
a<-html(links1[i])
heading[i]<-a %>% html_node(".content-article-title h1") %>% html_text()    #Read heading
print(heading[i])
content_list<-a %>% html_nodes(".shortcode-content p") %>% html_text()      #Takes each paragraph as an item in a list
content[i]<-paste(content_list,sep=" ",collapse = " ")
print(content[i])
date[i]<-a %>% html_node(".calendar-date") %>% html_text()
}
df<-data.frame(heading,date,content)
names(df)<-c("Heading","Date","Content")
write.csv(df,"NortheastToday.csv")
print("Exported to csv format")
'''
#---------------------------------------------------------------------
#---------------------------ZeeNews-----------------------------------
for (i in 296:length(links2)){
a<-html(links2[i])
heading[i]<-a %>% html_node(".full-story-head h1") %>% html_text()    #Read heading
print(heading[i])
content_list<-a %>% html_nodes(".even p") %>% html_text()      #Takes each paragraph as an item in a list
content[i]<-paste(content_list,sep=" ",collapse = "")
print(content[i])
date[i]<-a %>% html_node(".writer") %>% html_text()
date[i]<-paste(word(date[i],-5),word(date[i],-4),word(date[i],-3))
print(date[i])
}
df2<-data.frame(heading,date,content)
names(df2)<-c("Heading","Date","Content")
#write.csv(df,"ZeeNews.csv")
print("Exported to csv format")
#---------------------------------------------------------------------
library("stringr")
heading={}
content={}
date={}
#---------------------------NorthEastToday-----------------------------------
'''
for (i in 1:length(links1)){
a<-html(links1[i])
heading[i]<-a %>% html_node(".content-article-title h1") %>% html_text()    #Read heading
print(heading[i])
content_list<-a %>% html_nodes(".shortcode-content p") %>% html_text()      #Takes each paragraph as an item in a list
content[i]<-paste(content_list,sep=" ",collapse = " ")
print(content[i])
date[i]<-a %>% html_node(".calendar-date") %>% html_text()
}
df<-data.frame(heading,date,content)
names(df)<-c("Heading","Date","Content")
write.csv(df,"NortheastToday.csv")
print("Exported to csv format")
'''
#---------------------------------------------------------------------
#---------------------------ZeeNews-----------------------------------
for (i in 296:length(links2)){
a<-html(links2[i])
heading[i]<-a %>% html_node("h1") %>% html_text()    #Read heading
print(heading[i])
content_list<-a %>% html_nodes(".even p") %>% html_text()      #Takes each paragraph as an item in a list
content[i]<-paste(content_list,sep=" ",collapse = "")
print(content[i])
date[i]<-a %>% html_node(".writer") %>% html_text()
date[i]<-paste(word(date[i],-5),word(date[i],-4),word(date[i],-3))
print(date[i])
}
df2<-data.frame(heading,date,content)
names(df2)<-c("Heading","Date","Content")
#write.csv(df,"ZeeNews.csv")
print("Exported to csv format")
#---------------------------------------------------------------------
View(df2)
View(df2)
df3<-df2[df2$x>295]
df3<-df2[df2$x>295,]
df3<-df2[296:,]
df3<-df2[296:end,]
df3<-df2[296:length(df2),]
View(df3)
View(df3)
length(df2)
rows(df2)
size(df2)
df2.rows
nrow(df2)
df3<-df2[296:nrow(df2),]
View(df3)
View(df3)
df4<-rbind(df,df3)
View(df4)
View(df4)
write.csv(df4,"ZeeNews.csv")
length(links1)
library("rvest")
# Sys.setenv(http_proxy="10.3.100.207:8080")
states<-c("arunachal-pradesh","assam","manipur","meghalaya","mizoram","nagaland","tripura")
#--------------------NorthEastToday--------------------------------
links1={}
url_name<-"http://www.northeasttoday.in/category/"
for(s_no in 1:length(states))
{
print(paste("Currently in",states[s_no]))
#------------------Accessing the number of pages----------------------
exact_url<-paste(url_name,states[s_no],"/",sep="")
news_links<-html(exact_url)
max_pages<-news_links %>%
html_nodes(".page-numbers") %>%
html_text()
max_pages<-as.numeric(max_pages[length(max_pages)-1])
print(max_pages)
#---------------------------------------------------------------------
for(page_no in 1:max_pages)
{
exact_url<-paste(url_name,states[s_no],"/page/",page_no,"/",sep="")
if(page_no==1)
{
exact_url<-paste(url_name,states[s_no],"/",sep="")
}
print(paste("Accesing page number",page_no," url->",exact_url))
news_links<-html(exact_url)
links<-news_links %>%
html_nodes(".hentry .article-header a") %>%
html_attr("href")
print(links)
links1<-c(links1,links)
print(length(links1))
}
}
#---------------------------------------------------------------------
#---------------------------ZeeNews-----------------------------------
# links2={}
# url_name<-"http://zeenews.india.com/state/north-east?page="
# for(page_no in 0:19)
# {
#   news_links<-html(paste(url_name,page_no,sep=""))
#
#   links<-news_links %>%
#     html_nodes(".lead-health-ab a") %>%
#     html_attr("href")
#   for(i in 1:length(links))
#   {
#     links[i]=paste("http://zeenews.india.com",links[i],sep="")
#   }
#   links2<-c(links2,links)
# }
#
# print(links2)
#---------------------------------------------------------------------
library("stringr")
heading={}
content={}
date={}
#---------------------------NorthEastToday-----------------------------------
for (i in 1:length(links1)){
a<-html(links1[i])
heading[i]<-a %>% html_node(".content-article-title h1") %>% html_text()    #Read heading
print(paste(i,"->",heading[i]))
content_list<-a %>% html_nodes(".shortcode-content p") %>% html_text()      #Takes each paragraph as an item in a list
content[i]<-paste(content_list,sep=" ",collapse = " ")
#print(content[i])
date[i]<-a %>% html_node(".calendar-date") %>% html_text()
#print(date[i])
}
df<-data.frame(heading,date,content)
names(df)<-c("Heading","Date","Content")
write.csv(df,"NortheastToday.csv")
print("Exported to csv format")
#---------------------------------------------------------------------
#---------------------------ZeeNews-----------------------------------
# for (i in 1:length(links2)){
#   a<-html(links2[i])
#   heading[i]<-a %>% html_node("h1") %>% html_text()    #Read heading
#   print(heading[i])
#   content_list<-a %>% html_nodes(".even p") %>% html_text()      #Takes each paragraph as an item in a list
#   content[i]<-paste(content_list,sep=" ",collapse = "")
#   print(content[i])
#   date[i]<-a %>% html_node(".writer") %>% html_text()
#   date[i]<-paste(word(date[i],-5),word(date[i],-4),word(date[i],-3))
#   print(date[i])
# }
# df<-data.frame(heading,date,content)
# names(df)<-c("Heading","Date","Content")
# write.csv(df,"ZeeNews.csv")
# print("Exported to csv format")
#---------------------------------------------------------------------
View(df)
View(df)
